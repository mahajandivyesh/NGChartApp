import { DemoService } from "./../demo.service";
import { Component, OnInit } from "@angular/core";

@Component({
  selector: "app-chart-demo",
  templateUrl: "./chart-demo.component.html",
  styleUrls: ["./chart-demo.component.css"],
})
export class ChartDemoComponent implements OnInit {
  multi: any = [];
  // view: any[] = [1400, 600];
  view;
  // options
  legend: boolean = true;
  showLabels: boolean = true;
  animations: boolean = true;
  xAxis: boolean = true;
  yAxis: boolean = true;
  showYAxisLabel: boolean = true;
  showXAxisLabel: boolean = true;
  xAxisLabel: string = "Date";
  yAxisLabel: string = "Ammount";
  timeline: boolean = true;

  autoScale = true;

  data: any = {
    dt: {
      cols: [
        { id: "", label: "Year", pattern: "", type: "date" },
        { id: "", label: "Sales in $", pattern: "", type: "number" },
        { id: "", label: "Count", pattern: "", type: "number" },
      ],
      rows: [
        {
          c: [
            { f: "02/25", v: "2020/02/25" },
            { f: "₹ 8,499.12", v: 8499.12002 },
            { f: "76", v: 76 },
          ],
        },
        {
          c: [
            { f: "02/24", v: "2020/02/24" },
            { f: "₹ 5,971.54", v: 5971.54001 },
            { f: "68", v: 68 },
          ],
        },
        {
          c: [
            { f: "02/23", v: "2020/02/23" },
            { f: "₹ 6,744.06", v: 6744.06012 },
            { f: "70", v: 70 },
          ],
        },
        {
          c: [
            { f: "02/22", v: "2020/02/22" },
            { f: "₹ 8,689.06", v: 8689.06 },
            { f: "89", v: 89 },
          ],
        },
        {
          c: [
            { f: "02/21", v: "2020/02/21" },
            { f: "₹ 7,982.66", v: 7982.66101 },
            { f: "80", v: 80 },
          ],
        },
        {
          c: [
            { f: "02/20", v: "2020/02/20" },
            { f: "₹ 6,513.22", v: 6513.22 },
            { f: "74", v: 74 },
          ],
        },
        {
          c: [
            { f: "02/19", v: "2020/02/19" },
            { f: "₹ 5,485.78", v: 5485.78 },
            { f: "64", v: 64 },
          ],
        },
        {
          c: [
            { f: "02/18", v: "2020/02/18" },
            { f: "₹ 4,842.30", v: 4842.3 },
            { f: "56", v: 56 },
          ],
        },
        {
          c: [
            { f: "02/17", v: "2020/02/17" },
            { f: "₹ 6,210.40", v: 6210.4 },
            { f: "70", v: 70 },
          ],
        },
        {
          c: [
            { f: "02/16", v: "2020/02/16" },
            { f: "₹ 5,850.88", v: 5850.88 },
            { f: "67", v: 67 },
          ],
        },
        {
          c: [
            { f: "02/15", v: "2020/02/15" },
            { f: "₹ 7,770.55", v: 7770.55 },
            { f: "71", v: 71 },
          ],
        },
        {
          c: [
            { f: "02/14", v: "2020/02/14" },
            { f: "₹ 9,925.17", v: 9925.17 },
            { f: "107", v: 107 },
          ],
        },
        {
          c: [
            { f: "02/13", v: "2020/02/13" },
            { f: "₹ 7,426.29", v: 7426.29 },
            { f: "85", v: 85 },
          ],
        },
        {
          c: [
            { f: "02/12", v: "2020/02/12" },
            { f: "₹ 7,815.92", v: 7815.92 },
            { f: "82", v: 82 },
          ],
        },
        {
          c: [
            { f: "02/11", v: "2020/02/11" },
            { f: "₹ 4,914.97", v: 4914.97 },
            { f: "56", v: 56 },
          ],
        },
        {
          c: [
            { f: "02/10", v: "2020/02/10" },
            { f: "₹ 6,684.48", v: 6684.480001 },
            { f: "80", v: 80 },
          ],
        },
        {
          c: [
            { f: "02/09", v: "2020/02/09" },
            { f: "₹ 5,718.69", v: 5718.69 },
            { f: "65", v: 65 },
          ],
        },
        {
          c: [
            { f: "02/08", v: "2020/02/08" },
            { f: "₹ 6,465.29", v: 6465.29 },
            { f: "67", v: 67 },
          ],
        },
        {
          c: [
            { f: "02/07", v: "2020/02/07" },
            { f: "₹ 6,658.34", v: 6658.34 },
            { f: "87", v: 87 },
          ],
        },
        {
          c: [
            { f: "02/06", v: "2020/02/06" },
            { f: "₹ 6,348.63", v: 6348.6300021 },
            { f: "74", v: 74 },
          ],
        },
        {
          c: [
            { f: "02/05", v: "2020/02/05" },
            { f: "₹ 7,229.44", v: 7229.44 },
            { f: "72", v: 72 },
          ],
        },
        {
          c: [
            { f: "02/04", v: "2020/02/04" },
            { f: "₹ 9,434.84", v: 9434.84 },
            { f: "94", v: 94 },
          ],
        },
        {
          c: [
            { f: "02/03", v: "2020/02/03" },
            { f: "₹ 5,772.85", v: 5772.85 },
            { f: "63", v: 63 },
          ],
        },
        {
          c: [
            { f: "02/02", v: "2020/02/02" },
            { f: "₹ 5,834.58", v: 5834.58 },
            { f: "69", v: 69 },
          ],
        },
        {
          c: [
            { f: "02/01", v: "2020/02/01" },
            { f: "₹ 7,581.30", v: 7581.3 },
            { f: "79", v: 79 },
          ],
        },
        {
          c: [
            { f: "01/31", v: "2020/01/31" },
            { f: "₹ 7,539.08", v: 7539.08 },
            { f: "84", v: 84 },
          ],
        },
        {
          c: [
            { f: "01/30", v: "2020/01/30" },
            { f: "₹ 6,082.43", v: 6082.43 },
            { f: "73", v: 73 },
          ],
        },
        {
          c: [
            { f: "01/29", v: "2020/01/29" },
            { f: "₹ 7,871.64", v: 7871.6401 },
            { f: "81", v: 81 },
          ],
        },
        {
          c: [
            { f: "01/28", v: "2020/01/28" },
            { f: "₹ 6,235.51", v: 6235.51 },
            { f: "70", v: 70 },
          ],
        },
        {
          c: [
            { f: "01/27", v: "2020/01/27" },
            { f: "₹ 4,139.85", v: 4139.85 },
            { f: "48", v: 48 },
          ],
        },
        {
          c: [
            { f: "01/26", v: "2020/01/26" },
            { f: "₹ 4,747.33", v: 4747.33001 },
            { f: "61", v: 61 },
          ],
        },
        {
          c: [
            { f: "01/25", v: "2020/01/25" },
            { f: "₹ 7,263.33", v: 7263.33 },
            { f: "83", v: 83 },
          ],
        },
        {
          c: [
            { f: "01/24", v: "2020/01/24" },
            { f: "₹ 8,591.77", v: 8591.77 },
            { f: "98", v: 98 },
          ],
        },
        {
          c: [
            { f: "01/23", v: "2020/01/23" },
            { f: "₹ 6,778.89", v: 6778.89 },
            { f: "70", v: 70 },
          ],
        },
        {
          c: [
            { f: "01/22", v: "2020/01/22" },
            { f: "₹ 4,681.26", v: 4681.26 },
            { f: "66", v: 66 },
          ],
        },
        {
          c: [
            { f: "01/21", v: "2020/01/21" },
            { f: "₹ 5,680.73", v: 5680.73 },
            { f: "75", v: 75 },
          ],
        },
        {
          c: [
            { f: "01/20", v: "2020/01/20" },
            { f: "₹ 6,213.54", v: 6213.54 },
            { f: "60", v: 60 },
          ],
        },
        {
          c: [
            { f: "01/19", v: "2020/01/19" },
            { f: "₹ 5,690.21", v: 5690.21 },
            { f: "64", v: 64 },
          ],
        },
        {
          c: [
            { f: "01/18", v: "2020/01/18" },
            { f: "₹ 6,970.82", v: 6970.82 },
            { f: "80", v: 80 },
          ],
        },
        {
          c: [
            { f: "01/17", v: "2020/01/17" },
            { f: "₹ 8,487.42", v: 8487.42 },
            { f: "88", v: 88 },
          ],
        },
        {
          c: [
            { f: "01/16", v: "2020/01/16" },
            { f: "₹ 7,706.96", v: 7706.96 },
            { f: "78", v: 78 },
          ],
        },
        {
          c: [
            { f: "01/15", v: "2020/01/15" },
            { f: "₹ 4,628.22", v: 4628.22 },
            { f: "58", v: 58 },
          ],
        },
        {
          c: [
            { f: "01/14", v: "2020/01/14" },
            { f: "₹ 6,005.35", v: 6005.35 },
            { f: "71", v: 71 },
          ],
        },
        {
          c: [
            { f: "01/13", v: "2020/01/13" },
            { f: "₹ 7,181.17", v: 7181.170001 },
            { f: "75", v: 75 },
          ],
        },
        {
          c: [
            { f: "01/12", v: "2020/01/12" },
            { f: "₹ 6,507.43", v: 6507.43 },
            { f: "77", v: 77 },
          ],
        },
        {
          c: [
            { f: "01/11", v: "2020/01/11" },
            { f: "₹ 6,758.22", v: 6758.22 },
            { f: "73", v: 73 },
          ],
        },
        {
          c: [
            { f: "01/10", v: "2020/01/10" },
            { f: "₹ 7,040.65", v: 7040.6499 },
            { f: "82", v: 82 },
          ],
        },
        {
          c: [
            { f: "01/09", v: "2020/01/09" },
            { f: "₹ 5,020.45", v: 5020.45 },
            { f: "66", v: 66 },
          ],
        },
        {
          c: [
            { f: "01/08", v: "2020/01/08" },
            { f: "₹ 4,835.94", v: 4835.940001 },
            { f: "63", v: 63 },
          ],
        },
        {
          c: [
            { f: "01/07", v: "2020/01/07" },
            { f: "₹ 6,145.49", v: 6145.49 },
            { f: "73", v: 73 },
          ],
        },
        {
          c: [
            { f: "01/06", v: "2020/01/06" },
            { f: "₹ 5,804.90", v: 5804.9 },
            { f: "73", v: 73 },
          ],
        },
        {
          c: [
            { f: "01/05", v: "2020/01/05" },
            { f: "₹ 7,597.24", v: 7597.240101 },
            { f: "80", v: 80 },
          ],
        },
        {
          c: [
            { f: "01/04", v: "2020/01/04" },
            { f: "₹ 6,166.72", v: 6166.72 },
            { f: "65", v: 65 },
          ],
        },
        {
          c: [
            { f: "01/03", v: "2020/01/03" },
            { f: "₹ 6,740.32", v: 6740.32 },
            { f: "79", v: 79 },
          ],
        },
        {
          c: [
            { f: "01/02", v: "2020/01/02" },
            { f: "₹ 6,295.59", v: 6295.59 },
            { f: "79", v: 79 },
          ],
        },
        {
          c: [
            { f: "01/01", v: "2020/01/01" },
            { f: "₹ 6,731.40", v: 6731.4000201 },
            { f: "72", v: 72 },
          ],
        },
        {
          c: [
            { f: "12/31", v: "2019/12/31" },
            { f: "₹ 4,880.95", v: 4880.95 },
            { f: "62", v: 62 },
          ],
        },
        {
          c: [
            { f: "12/30", v: "2019/12/30" },
            { f: "₹ 6,141.78", v: 6141.78 },
            { f: "69", v: 69 },
          ],
        },
        {
          c: [
            { f: "12/29", v: "2019/12/29" },
            { f: "₹ 5,157.29", v: 5157.29 },
            { f: "59", v: 59 },
          ],
        },
        {
          c: [
            { f: "12/28", v: "2019/12/28" },
            { f: "₹ 5,385.83", v: 5385.8301 },
            { f: "57", v: 57 },
          ],
        },
        {
          c: [
            { f: "12/27", v: "2019/12/27" },
            { f: "₹ 6,185.33", v: 6185.33 },
            { f: "66", v: 66 },
          ],
        },
        {
          c: [
            { f: "12/26", v: "2019/12/26" },
            { f: "₹ 6,485.44", v: 6485.44001 },
            { f: "74", v: 74 },
          ],
        },
        {
          c: [
            { f: "12/24", v: "2019/12/24" },
            { f: "₹ 3,734.38", v: 3734.38 },
            { f: "29", v: 29 },
          ],
        },
        {
          c: [
            { f: "12/23", v: "2019/12/23" },
            { f: "₹ 7,428.77", v: 7428.77 },
            { f: "80", v: 80 },
          ],
        },
        {
          c: [
            { f: "12/22", v: "2019/12/22" },
            { f: "₹ 6,027.26", v: 6027.26 },
            { f: "69", v: 69 },
          ],
        },
        {
          c: [
            { f: "12/21", v: "2019/12/21" },
            { f: "₹ 6,293.61", v: 6293.61 },
            { f: "65", v: 65 },
          ],
        },
        {
          c: [
            { f: "12/20", v: "2019/12/20" },
            { f: "₹ 8,512.49", v: 8512.49 },
            { f: "83", v: 83 },
          ],
        },
        {
          c: [
            { f: "12/19", v: "2019/12/19" },
            { f: "₹ 7,186.87", v: 7186.87 },
            { f: "79", v: 79 },
          ],
        },
        {
          c: [
            { f: "12/18", v: "2019/12/18" },
            { f: "₹ 9,304.81", v: 9304.81002301 },
            { f: "90", v: 90 },
          ],
        },
        {
          c: [
            { f: "12/17", v: "2019/12/17" },
            { f: "₹ 6,533.23", v: 6533.23 },
            { f: "65", v: 65 },
          ],
        },
        {
          c: [
            { f: "12/16", v: "2019/12/16" },
            { f: "₹ 5,422.76", v: 5422.76 },
            { f: "68", v: 68 },
          ],
        },
        {
          c: [
            { f: "12/15", v: "2019/12/15" },
            { f: "₹ 7,975.88", v: 7975.88 },
            { f: "95", v: 95 },
          ],
        },
        {
          c: [
            { f: "12/14", v: "2019/12/14" },
            { f: "₹ 6,139.31", v: 6139.31 },
            { f: "73", v: 73 },
          ],
        },
        {
          c: [
            { f: "12/13", v: "2019/12/13" },
            { f: "₹ 7,239.35", v: 7239.35 },
            { f: "96", v: 96 },
          ],
        },
        {
          c: [
            { f: "12/12", v: "2019/12/12" },
            { f: "₹ 6,414.78", v: 6414.78 },
            { f: "69", v: 69 },
          ],
        },
        {
          c: [
            { f: "12/11", v: "2019/12/11" },
            { f: "₹ 4,926.01", v: 4926.01 },
            { f: "61", v: 61 },
          ],
        },
        {
          c: [
            { f: "12/10", v: "2019/12/10" },
            { f: "₹ 6,125.67", v: 6125.67 },
            { f: "77", v: 77 },
          ],
        },
        {
          c: [
            { f: "12/09", v: "2019/12/09" },
            { f: "₹ 6,789.72", v: 6789.720002 },
            { f: "73", v: 73 },
          ],
        },
        {
          c: [
            { f: "12/08", v: "2019/12/08" },
            { f: "₹ 7,441.01", v: 7441.01011 },
            { f: "66", v: 66 },
          ],
        },
        {
          c: [
            { f: "12/07", v: "2019/12/07" },
            { f: "₹ 5,187.56", v: 5187.56 },
            { f: "57", v: 57 },
          ],
        },
        {
          c: [
            { f: "12/06", v: "2019/12/06" },
            { f: "₹ 6,258.39", v: 6258.39 },
            { f: "77", v: 77 },
          ],
        },
        {
          c: [
            { f: "12/05", v: "2019/12/05" },
            { f: "₹ 5,265.15", v: 5265.15 },
            { f: "70", v: 70 },
          ],
        },
        {
          c: [
            { f: "12/04", v: "2019/12/04" },
            { f: "₹ 6,456.83", v: 6456.83 },
            { f: "78", v: 78 },
          ],
        },
        {
          c: [
            { f: "12/03", v: "2019/12/03" },
            { f: "₹ 8,751.37", v: 8751.37 },
            { f: "98", v: 98 },
          ],
        },
        {
          c: [
            { f: "12/02", v: "2019/12/02" },
            { f: "₹ 4,616.21", v: 4616.210001 },
            { f: "56", v: 56 },
          ],
        },
        {
          c: [
            { f: "12/01", v: "2019/12/01" },
            { f: "₹ 4,662.07", v: 4662.07 },
            { f: "57", v: 57 },
          ],
        },
      ],
    },
    message: "",
    success: true,
  };
  myData: any = [];
  constructor(private service: DemoService) {
    // Object.assign(this, { multi });
  }

  colorScheme = {
    domain: ["#5AA454", "#A10A28", "#C7B42C", "#AAAAAA"],
  };

  dailySale: any = {};

  apiResponse: any;

  ngOnInit() {
    this.dailySale.name = "Daily Sales";
    this.service.getChartDetails().subscribe((response) => {
      var tempArray = JSON.stringify(response);
      this.apiResponse = JSON.parse(tempArray).data;
      console.log(this.apiResponse.rows);
      for (let i = 0; i < this.apiResponse.rows.length; i++) {
        let ds = {
          name: new Date(this.apiResponse.rows[i].c[0].v),
          value: this.apiResponse.rows[i].c[1].v,
        };
        this.myData.push(ds);
      }
      this.dailySale.series = this.myData;
      this.multi.push(this.dailySale);
      console.log(" ============ ", JSON.stringify(this.multi));
      
    });
    //   this.dailySale.name='Daily Sales';

    // for (let i = 0 ;i<this.data.dt.rows.length;i++){

    //   let ds = {
    //     "name": new Date(this.data.dt.rows[i].c[0].v),
    //     "value":this.data.dt.rows[i].c[1].v
    //   }
    //   this.myData.push(ds);
    // }
    // this.dailySale.series = this.myData;
    // this.multi.push(this.dailySale);
    // console.log(JSON.stringify(this.multi));
  }

  onSelect(data): void {
    console.log("Item clicked", JSON.parse(JSON.stringify(data)));
  }

  onActivate(data): void {
    console.log("Activate", JSON.parse(JSON.stringify(data)));
  }

  onDeactivate(data): void {
    console.log("Deactivate", JSON.parse(JSON.stringify(data)));
  }
}
